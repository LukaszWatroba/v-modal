/**
 * vModal - Simple, flexible and beautiful modal dialogs in AngularJS
 * @version v1.3.1
 * @link http://lukaszwatroba.github.io/v-modal
 * @author Łukasz Wątroba <l@lukaszwatroba.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

!function(e){"use strict";function t(){return{restrict:"E",scope:{label:"@"},link:function(e,t,n){e.label&&n.$set("aria-label",e.label),n.$set("role","button"),n.$set("tabindex",0)}}}function n(){return{restrict:"AE",require:"^vModal",transclude:!0,scope:{heading:"@",role:"@"},link:function(e,t,n,o,r){r(e.$parent,function(e){t.append(e)}),e.heading&&n.$set("aria-label",e.heading),n.$set("role","dialog"),n.$set("tabindex",-1),t[0].focus(),setTimeout(function(){t[0].focus()},0)}}}function o(){return{restrict:"AE",transclude:!0,scope:{closeMethod:"&?onclose"},controller:function(){},link:function(t,n,o,r,l){function a(e){for(;"V-CLOSE"!==e.tagName;)if(e=e.parentNode,!e)return!1;return!0}l(t.$parent,function(e){n.append(e)}),t.closeMethod=e.isFunction(t.closeMethod)?t.closeMethod:e.noop,n.on("click",function(e){var n="V-MODAL"===e.target.tagName;(n||a(e.target))&&t.$apply(function(){t.closeMethod()})})}}}function r(t,n,o,r,l,a,i,c,u){return function(d){function s(e){return p.then(function(t){b||v(t,e)})}function v(l,a){if(b=e.element(l),0===b.length)throw new Error("The template contains no elements; you need to wrap text nodes");if(h=o.$new(),$){a||(a={});for(var i in a)h[i]=a[i];var c=r($,{$scope:h});M&&(h[M]=c)}else if(a)for(var i in a)h[i]=a[i];return n(b)(h),g.attr("v-modal-open",""),t.enter(b,g)}function f(){return b?t.leave(b).then(function(){h.$destroy(),h=null,b.remove(),b=null,g.removeAttr("v-modal-open")}):l.when()}function m(){return!!b}if(!(!d.template^!d.templateUrl))throw new Error("Expected modal to have exacly one of either `template` or `templateUrl`");var p,h,$=d.controller||null,M=d.controllerAs,g=e.element(d.container||c[0].querySelector(u.containerSelector)),b=null;return p=d.template?l.when(d.template):a.get(d.templateUrl,{cache:i}).then(function(e){return e.data}),{activate:s,deactivate:f,active:m}}}e.module("vModal.config",[]).constant("modalConfig",{containerSelector:"body"}),e.module("vModal.directives",[]),e.module("vModal.services",[]),e.module("vModal",["ngAnimate","vModal.config","vModal.directives","vModal.services"]),e.module("vModal.directives").directive("vClose",t),e.module("vModal.directives").directive("vDialog",n),e.module("vModal.directives").directive("vModal",o),e.module("vModal.services").factory("vModal",r),r.$inject=["$animate","$compile","$rootScope","$controller","$q","$http","$templateCache","$document","modalConfig"]}(angular);